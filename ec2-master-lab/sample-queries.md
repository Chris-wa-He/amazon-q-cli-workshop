# EC2 Full-Stack Operations Master Lab - 示例查询

以下是在实验过程中可以使用的Amazon Q CLI示例查询。这些查询将帮助您诊断和解决EC2连接问题、分析网络架构并配置CloudWatch告警。

## 连接问题诊断

### 检查EC2实例状态
```
我的EC2实例无法通过SSH连接，请帮我诊断问题
```

### 检查安全组配置
```
检查安全组配置，看看是否允许SSH访问
```

### 检查网络ACL配置
```
分析网络ACL配置，看看是否限制了SSH访问
```

### 解决连接问题
```
如何修改安全组以允许SSH访问？
```

```
如何更新网络ACL以允许SSH流量？
```

## 网络架构分析

### 分析VPC架构
```
分析我的VPC架构，包括子网、路由表和网关
```

### 生成网络架构图
```
基于我的VPC资源生成一个网络架构图
```

### 分析网络连接
```
分析公有子网和私有子网之间的连接
```

### 检查路由配置
```
检查我的路由表配置，确保流量正确路由
```

## CloudWatch告警配置

### 创建CPU使用率告警
```
为我的EC2实例创建一个CPU使用率超过20%的CloudWatch告警
```

### 配置SNS通知
```
创建一个SNS主题并配置告警通知
```

### 测试告警
```
如何测试我的CloudWatch告警是否正常工作？
```

### 查看告警状态
```
查看我的CloudWatch告警的当前状态
```

## 综合查询

### 端到端诊断
```
我的EC2实例无法通过SSH连接，并且我需要监控其CPU使用率。请帮我诊断连接问题并设置适当的监控。
```

### 安全性分析
```
分析我的EC2实例的安全配置，包括安全组、网络ACL和IAM角色
```

### 性能监控
```
如何全面监控我的EC2实例的性能？
```

### 最佳实践
```
根据AWS最佳实践，我应该如何优化我的EC2实例和网络配置？
```
