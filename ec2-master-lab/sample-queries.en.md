# EC2 Full-Stack Operations Master Lab - Sample Queries

The following are sample Amazon Q CLI queries that you can use during the lab. These queries will help you diagnose and solve EC2 connection issues, analyze network architecture, and configure CloudWatch alarms.

## Connection Issue Diagnosis

### Check EC2 Instance Status
```
My EC2 instance cannot be connected via SSH, please help me diagnose the problem
```

### Check Security Group Configuration
```
Check the security group configuration to see if SSH access is allowed
```

### Check Network ACL Configuration
```
Analyze the network ACL configuration to see if SSH access is restricted
```

### Solve Connection Issues
```
How do I modify the security group to allow SSH access?
```

```
How do I update the network ACL to allow SSH traffic?
```

## Network Architecture Analysis

### Analyze VPC Architecture
```
Analyze my VPC architecture, including subnets, route tables, and gateways
```

### Generate Network Architecture Diagram
```
Generate a network architecture diagram based on my VPC resources
```

### Analyze Network Connections
```
Analyze the connection between public and private subnets
```

### Check Routing Configuration
```
Check my route table configuration to ensure traffic is routed correctly
```

## CloudWatch Alarm Configuration

### Create CPU Usage Alarm
```
Create a CloudWatch alarm for my EC2 instance when CPU usage exceeds 20%
```

### Configure SNS Notifications
```
Create an SNS topic and configure alarm notifications
```

### Test Alarms
```
How do I test if my CloudWatch alarm is working properly?
```

### View Alarm Status
```
View the current status of my CloudWatch alarm
```

## Comprehensive Queries

### End-to-End Diagnosis
```
My EC2 instance cannot be connected via SSH, and I need to monitor its CPU usage. Please help me diagnose the connection issue and set up appropriate monitoring.
```

### Security Analysis
```
Analyze the security configuration of my EC2 instance, including security groups, network ACLs, and IAM roles
```

### Performance Monitoring
```
How can I comprehensively monitor the performance of my EC2 instance?
```

### Best Practices
```
According to AWS best practices, how should I optimize my EC2 instance and network configuration?
```
