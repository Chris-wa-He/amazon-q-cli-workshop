# Amazon Q CLI 成本优化示例查询

本文档提供了一系列可以在Amazon Q CLI中使用的示例查询，帮助您分析AWS资源使用情况并获取成本优化建议。

## 资源使用分析查询

### EC2实例分析
- "分析我的EC2实例使用情况，找出CPU利用率低于20%的实例"
- "查找过去30天内网络流量最低的EC2实例"
- "识别哪些EC2实例可以从按需转为Savings Plans或预留实例"
- "显示我的EC2实例按实例类型的分布情况"

### 存储分析
- "分析我的S3存储使用趋势，并预测未来3个月的增长"
- "找出未访问超过90天的S3对象"
- "识别可以转移到低成本存储类别的S3数据"
- "分析我的EBS卷使用情况，找出未附加或利用率低的卷"

### 数据库分析
- "分析我的RDS实例CPU和内存使用情况"
- "找出连接数较低的RDS实例"
- "识别可以调整大小的DynamoDB表"
- "分析我的Aurora集群的性能与成本比"

## 成本优化建议查询

### 实例优化
- "推荐哪些EC2实例可以降级以节省成本"
- "分析使用Graviton处理器替换现有实例的成本影响"
- "建议哪些工作负载适合使用Spot实例"
- "计算将按需实例转换为Savings Plans的潜在节约"

### 存储优化
- "建议如何优化我的S3存储成本"
- "分析实施S3生命周期策略的潜在节约"
- "推荐哪些EBS卷可以转换为gp3类型以节省成本"
- "建议如何优化我的EBS快照策略"

### 网络优化
- "分析我的数据传输成本并提供优化建议"
- "建议如何减少NAT网关成本"
- "评估使用VPC端点的成本效益"
- "分析我的CloudFront使用情况并提供优化建议"

## 综合分析查询

- "分析我上个月的AWS账单，找出最大的成本驱动因素"
- "比较过去3个月的成本趋势并预测下个月的账单"
- "识别我账户中增长最快的服务成本"
- "建议一个全面的成本优化计划，按潜在节约排序"
- "分析我的标签策略并建议如何改进成本分配"

## 自动化查询

- "帮我创建一个脚本，自动识别并停止非工作时间的开发环境"
- "设计一个解决方案，自动调整资源大小以匹配实际使用情况"
- "帮我创建一个AWS Lambda函数，定期清理未使用的资源"
- "设计一个使用AWS Budgets的成本控制策略"

## 使用这些查询

在Amazon Q CLI中，您可以直接使用这些查询或根据您的具体情况进行调整。记住，提供更多上下文信息会帮助Amazon Q生成更准确、更有针对性的回答。
